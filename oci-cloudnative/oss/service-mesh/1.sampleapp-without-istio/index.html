<!DOCTYPE html>
<html lang="ko">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>4.4.1 Service Mesh 없는 마이크로서비스 앱 배포 - TheKoguryo&#39;s 기술 블로그 | Oracle Cloud Native</title>
<meta name="generator" content="Hugo 0.89.2" />
<link href="https://thekoguryo.github.io/oci-cloudnativeindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/1.sampleapp-without-istio/">
<link rel="stylesheet" href="https://thekoguryo.github.io/oci-cloudnative/css/theme.min.css">
<link rel="stylesheet" href="https://thekoguryo.github.io/oci-cloudnative/css/d2coding.css">
<link rel="stylesheet" href="https://thekoguryo.github.io/oci-cloudnative/css/fontawesome-all.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://thekoguryo.github.io/oci-cloudnative/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://thekoguryo.github.io/oci-cloudnative/js/functions.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://thekoguryo.github.io/oci-cloudnative/js/jquery.backtothetop/jquery.backtothetop.min.js"></script>
<script src="https://thekoguryo.github.io/oci-cloudnative/js/jqcloud/jqcloud.js"></script>
<link rel="stylesheet" href="https://thekoguryo.github.io/oci-cloudnative/js/jqcloud/jqcloud.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-106207316-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-106207316-1');
</script>
</head>
<body>
<div class="container"><header>
<h1>TheKoguryo&#39;s 기술 블로그 | Oracle Cloud Native</h1>

 <span class="version">Version 2021.12.01</span>
<a href="https://github.com/TheKoguryo" class="github"><i class="fab fa-github"></i></a>
</header>
<div class="menu">
<nav>
<ul>
<li ><a href="https://thekoguryo.github.io">Home</a></li>
<li ><a href="/oci-cloudnative/">Oracle Cloud Native</a></li>
<li ><a href="https://github.com/TheKoguryo/TheKoguryo.github.io/issues/new">Feedback</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1 id="441-service-mesh-없는-마이크로서비스-앱-배포">4.4.1 Service Mesh 없는 마이크로서비스 앱 배포</h1>
<p>본 내용은 아래 Istio 문서 상에 있는 내용을 재 확인하는 내용으로 마이크로 서비스 앱을 사용하는 데 있어서 어떤 문제가 발생할 수 있는지, 왜 Istio 같은 Service Mesh 필요한지에 대해 알아보는 내용입니다.</p>
<ul>
<li><a href="https://istio.io/latest/docs/examples/microservices-istio/bookinfo-kubernetes/">https://istio.io/latest/docs/examples/microservices-istio/bookinfo-kubernetes/</a></li>
<li><a href="https://istio.io/latest/docs/examples/microservices-istio/add-new-microservice-version/">https://istio.io/latest/docs/examples/microservices-istio/add-new-microservice-version/</a></li>
</ul>
<h2 id="테스트-마이크로-서비스-앱bookinfo-배포">테스트 마이크로 서비스 앱(Bookinfo) 배포</h2>
<p>테스트 앱</p>
<ul>
<li>
<p>Product, Review, Details, Ratings의 4개 마이크로 서비스 앱으로 구성되어 있습니다.</p>
</li>
<li>
<p>먼저 여기서는 Reviews 서비스는  v1만 배포합니다.</p>
</li>
<li>
<p>아직 istio 설정이 안된 상태에서 배포 및 결과를 확인합니다.</p>
<p>







<img class="img-fluid1" src="../images/noistio.svg" alt='' />
</p>
</li>
</ul>
<ol>
<li>
<p>앱 배포</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl apply -l version!<span class="o">=</span>v2,version!<span class="o">=</span>v3 -f https://raw.githubusercontent.com/istio/istio/release-1.12/samples/bookinfo/platform/kube/bookinfo.yaml
</code></pre></div></li>
<li>
<p>스케일</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl scale deployments --all --replicas <span class="m">3</span>
</code></pre></div></li>
<li>
<p>외부 접근을 위한 서비스 오픈</p>
<p>테스트 편의를 위해 Load Balancer 타입으로 오픈합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl patch svc productpage -p <span class="s1">&#39;{&#34;spec&#34;: {&#34;type&#34;: &#34;LoadBalancer&#34;}}&#39;</span>
</code></pre></div></li>
<li>
<p>배포 상태 확인</p>
<p>각 앱이 3개의 Pod이며 각 Pod는 Container 1개로 구성된 것을 확인할 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl get pod
NAME                              READY   STATUS    RESTARTS   AGE
details-v1-79f774bdb9-29z48       1/1     Running   <span class="m">0</span>          21s
details-v1-79f774bdb9-d5lfq       1/1     Running   <span class="m">0</span>          32s
details-v1-79f774bdb9-sqp9p       1/1     Running   <span class="m">0</span>          20s
productpage-v1-6b746f74dc-drgbw   1/1     Running   <span class="m">0</span>          21s
productpage-v1-6b746f74dc-pc2h2   1/1     Running   <span class="m">0</span>          32s
productpage-v1-6b746f74dc-qzkqm   1/1     Running   <span class="m">0</span>          20s
ratings-v1-b6994bb9-6xlq7         1/1     Running   <span class="m">0</span>          32s
ratings-v1-b6994bb9-j2l78         1/1     Running   <span class="m">0</span>          20s
ratings-v1-b6994bb9-w748t         1/1     Running   <span class="m">0</span>          20s
reviews-v1-545db77b95-hg7j8       1/1     Running   <span class="m">0</span>          32s
reviews-v1-545db77b95-l42v4       1/1     Running   <span class="m">0</span>          20s
reviews-v1-545db77b95-lgl89       1/1     Running   <span class="m">0</span>          20s
</code></pre></div></li>
<li>
<p>서비스 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl get svc
NAME          TYPE           CLUSTER-IP      EXTERNAL-IP     PORT<span class="o">(</span>S<span class="o">)</span>          AGE
details       ClusterIP      10.96.175.211   &lt;none&gt;          9080/TCP         67s
kubernetes    ClusterIP      10.96.0.1       &lt;none&gt;          443/TCP          16d
productpage   LoadBalancer   10.96.79.55     146.56.142.95   9080:32649/TCP   66s
ratings       ClusterIP      10.96.105.212   &lt;none&gt;          9080/TCP         66s
reviews       ClusterIP      10.96.197.86    &lt;none&gt;          9080/TCP         66s
</code></pre></div></li>
<li>
<p>메인 페이지 접속</p>
<ul>
<li>http://{productpage external ip}:9080/productpage</li>
<li>각 서비스가 호출되어 정상적인 페이지가 보이는 것을 알 수 있습니다.</li>
<li>Review v1에서는 아직 Rating 서비스와 연동되지 않아 Rating 정보는 보이지 않습니다.</li>
</ul>
<p>







<img class="img-fluid1" src="../images/image-20211220163946829.png" alt='image-20211220163946829' />
</p>
</li>
<li>
<p>Product page 호출 코드 확인</p>
<ul>
<li>소스 파일: <a href="https://github.com/istio/istio/blob/release-1.12/samples/bookinfo/src/productpage/productpage.py">https://github.com/istio/istio/blob/release-1.12/samples/bookinfo/src/productpage/productpage.py</a></li>
<li>reviews 호출 주소를 보면 http://{reviewsHostname}.{servicesDomain}:9080/reviews 인걸 알 수 있습니다.</li>
</ul>
<p>







<img class="img-fluid1" src="../images/image-20211219202724867.png" alt='image-20211219202724867' />
</p>
<ul>
<li>
<p>실제 호출 로그</p>
<p>실제 로그를 보면 http://reviews:9080/reviews 로 정상 호출 되었으며, 배포시의 ClusterIP 타입의 reviews Service를 통해 같은 네임스페이스 상에서는 reviews를 주소로하여 정상 호출된 것을 알 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl logs -l <span class="nv">app</span><span class="o">=</span>productpage -f
...
DEBUG:urllib3.connectionpool:Starting new HTTP connection <span class="o">(</span>1<span class="o">)</span>: reviews:9080
send: b<span class="s1">&#39;GET /reviews/0 HTTP/1.1\r\nHost: reviews:9080\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36\r\nAccept-Encoding: gzip, deflate\r\nAccept: */*\r\nConnection: keep-alive\r\nX-B3-TraceId: cd0101ed97c6b43f\r\nX-B3-SpanId: cd0101ed97c6b43f\r\nX-B3-Sampled: 1\r\n\r\n&#39;</span>
reply: <span class="s1">&#39;HTTP/1.1 200 OK\r\n&#39;</span>
header: X-Powered-By: Servlet/3.1
header: Content-Type: application/json
header: Date: Mon, <span class="m">20</span> Dec <span class="m">2021</span> 07:41:55 GMT
header: Content-Language: en-US
header: Content-Length: <span class="m">295</span>
DEBUG:urllib3.connectionpool:http://reviews:9080 <span class="s2">&#34;GET /reviews/0 HTTP/1.1&#34;</span> <span class="m">200</span> <span class="m">295</span>
INFO:werkzeug:10.244.1.128 - - <span class="o">[</span>20/Dec/2021 07:41:55<span class="o">]</span> <span class="s2">&#34;GET /productpage HTTP/1.1&#34;</span> <span class="m">200</span> 
</code></pre></div></li>
</ul>
</li>
</ol>
<h2 id="reviews-새-버전-배포">Reviews 새 버전 배포</h2>
<ol>
<li>
<p>Reviews Service 확인</p>
<p>Selector에서 보이는 것처럼 app=reviews 레이블이 달린 Pod로 분배하고 있습니다. 현재 배포되어있는 Reviews v1의 세 개의 Pod의 Endpoints로 분배되고 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl describe svc reviews
Name:              reviews
Namespace:         default
Labels:            <span class="nv">app</span><span class="o">=</span>reviews
                   <span class="nv">service</span><span class="o">=</span>reviews
Annotations:       &lt;none&gt;
Selector:          <span class="nv">app</span><span class="o">=</span>reviews
Type:              ClusterIP
IP Family Policy:  SingleStack
IP Families:       IPv4
IP:                10.96.197.86
IPs:               10.96.197.86
Port:              http  9080/TCP
TargetPort:        9080/TCP
Endpoints:         10.244.2.42:9080,10.244.2.44:9080,10.244.2.45:9080
Session Affinity:  None
Events:            &lt;none&gt;
</code></pre></div></li>
<li>
<p>이 상태에서 Reviews 앱의 새로운 버전인 v2를 개발하여 배포하게 된다면, 아마 배포해서 정상동작 확인후 서비스 라우팅이 되도록 app=review를 추가하게 될 것입니다. 이후 일부 요청을 서비스 하도록 실제 운영하다 문제 발생시 원복시키거나, 문제가 없는 경우, v1로 가는 요청을 줄이고, v2로 가는 요청을 점진적으로 늘려가면서 실제 v2로 이관하게 될 것입니다.</p>
</li>
</ol>
<h3 id="reviews-v2-배포">Reviews v2 배포</h3>
<ol>
<li>
<p>Reviews v2 버전을 배포합니다.</p>
<p>라우팅에서 일단 제외하기 위해 app: reviews_test로 레이블을 변경하여 배포합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">curl -s https://raw.githubusercontent.com/istio/istio/release-1.12/samples/bookinfo/platform/kube/bookinfo.yaml <span class="p">|</span> sed <span class="s1">&#39;s/app: reviews/app: reviews_test/&#39;</span> <span class="p">|</span> kubectl apply -l <span class="nv">app</span><span class="o">=</span>reviews_test,version<span class="o">=</span>v2 -f -
</code></pre></div></li>
<li>
<p>배포 결과 확인</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl get pod -o wide
NAME                              READY   STATUS    RESTARTS   AGE   IP             NODE          NOMINATED NODE   READINESS GATES
...
reviews-v1-545db77b95-hg7j8       1/1     Running   <span class="m">0</span>          76m   10.244.2.42    10.0.10.9     &lt;none&gt;           &lt;none&gt;
reviews-v1-545db77b95-l42v4       1/1     Running   <span class="m">0</span>          76m   10.244.2.45    10.0.10.9     &lt;none&gt;           &lt;none&gt;
reviews-v1-545db77b95-lgl89       1/1     Running   <span class="m">0</span>          76m   10.244.2.44    10.0.10.9     &lt;none&gt;           &lt;none&gt;
reviews-v2-7cd8b85558-c2jmw       1/1     Running   <span class="m">0</span>          30s   10.244.2.47    10.0.10.9     &lt;none&gt;           &lt;none&gt;
</code></pre></div></li>
<li>
<p>Reviews v2 Pod 테스트</p>
<p>productpage Pod에서 Reviews v2 Pod로 테스트하면 좋겠지만, productpage Pod에 테스트용 curl 없는 관계로 별도 클라이언트용 Pod를 배포하여 테스트합니다.</p>
<ul>
<li>
<p>테스트 클라이언트 Pod 배포</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.12/samples/sleep/sleep.yaml
</code></pre></div></li>
<li>
<p>테스트</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="nv">REVIEWS_V2_POD_IP</span><span class="o">=</span><span class="k">$(</span>kubectl get pod -l <span class="nv">app</span><span class="o">=</span>reviews_test,version<span class="o">=</span>v2 -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].status.podIP}&#39;</span><span class="k">)</span>
<span class="nb">echo</span> <span class="nv">$REVIEWS_V2_POD_IP</span>
kubectl <span class="nb">exec</span> <span class="k">$(</span>kubectl get pod -l <span class="nv">app</span><span class="o">=</span>sleep -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].metadata.name}&#39;</span><span class="k">)</span> -- curl -sS <span class="s2">&#34;</span><span class="nv">$REVIEWS_V2_POD_IP</span><span class="s2">:9080/reviews/7&#34;</span> 
</code></pre></div></li>
</ul>
</li>
<li>
<p>테스트 결과</p>
<p>아래와 같이 v2 버전이 잘 동작함을 확인합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ <span class="nv">REVIEWS_V2_POD_IP</span><span class="o">=</span><span class="k">$(</span>kubectl get pod -l <span class="nv">app</span><span class="o">=</span>reviews_test,version<span class="o">=</span>v2 -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].status.podIP}&#39;</span><span class="k">)</span>
oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ <span class="nb">echo</span> <span class="nv">$REVIEWS_V2_POD_IP</span>
10.244.2.47
oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl <span class="nb">exec</span> <span class="k">$(</span>kubectl get pod -l <span class="nv">app</span><span class="o">=</span>sleep -o <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">&#39;{.items[0].metadata.name}&#39;</span><span class="k">)</span> -- curl -sS <span class="s2">&#34;</span><span class="nv">$REVIEWS_V2_POD_IP</span><span class="s2">:9080/reviews/7&#34;</span> <span class="o">{</span><span class="s2">&#34;id&#34;</span>: <span class="s2">&#34;7&#34;</span>,<span class="s2">&#34;reviews&#34;</span>: <span class="o">[{</span>  <span class="s2">&#34;reviewer&#34;</span>: <span class="s2">&#34;Reviewer1&#34;</span>,  <span class="s2">&#34;text&#34;</span>: <span class="s2">&#34;An extremely entertaining play by Shakespeare. The slapstick humour is refreshing!&#34;</span>, <span class="s2">&#34;rating&#34;</span>: <span class="o">{</span><span class="s2">&#34;stars&#34;</span>: 5, <span class="s2">&#34;color&#34;</span>: <span class="s2">&#34;black&#34;</span><span class="o">}}</span>,<span class="o">{</span>  <span class="s2">&#34;reviewer&#34;</span>: <span class="s2">&#34;Reviewer2&#34;</span>,  <span class="s2">&#34;text&#34;</span>: <span class="s2">&#34;Absolutely fun and entertaining. The play lacks thematic depth when compared to other plays by Shakespeare.&#34;</span>, <span class="s2">&#34;rating&#34;</span>: <span class="o">{</span><span class="s2">&#34;stars&#34;</span>: 4, <span class="s2">&#34;color&#34;</span>: <span class="s2">&#34;black&#34;</span><span class="o">}}]}</span>
</code></pre></div></li>
</ol>
<h3 id="reviews-v2의-서비스-라우팅에-추가">Reviews v2의 서비스 라우팅에 추가</h3>
<ol>
<li>
<p>version=v2 레이블이 달린 Review v2 Pod에 app=reviews 레이블을 추가합니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl label pod -l <span class="nv">version</span><span class="o">=</span>v2 <span class="nv">app</span><span class="o">=</span>reviews --overwrite
pod/reviews-v2-7cd8b85558-c2jmw labeled
</code></pre></div></li>
<li>
<p>Reviews Service 재확인</p>
<p>아래와 같이 v2가 추가가 되어 Endpoints에 이전 3개에서 4개로 변경된 것을 알 수 있습니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">oke_admin@cloudshell:~ <span class="o">(</span>ap-seoul-1<span class="o">)</span>$ kubectl describe svc reviews
Name:              reviews
...
Selector:          <span class="nv">app</span><span class="o">=</span>reviews
...
Endpoints:         10.244.2.42:9080,10.244.2.44:9080,10.244.2.45:9080 + <span class="m">1</span> more...
</code></pre></div></li>
<li>
<p>메인 페이지 접속</p>
<ul>
<li>
<p>http://{productpage external ip}:9080/productpage</p>
</li>
<li>
<p>페이지를 새로고침하면 4번 중 1번은 Review v2 Pod로 라우팅되어 아래 그림과 같이 별점 표시가 되는 것을 볼 수 있습니다.</p>
<p>







<img class="img-fluid1" src="../images/image-20211220175727443.png" alt='image-20211220175727443' />
</p>
</li>
</ul>
</li>
</ol>
<h3 id="reviews-v2-문제-확인후-재배포">Reviews v2 문제 확인후 재배포</h3>
<ol>
<li>
<p>서비스 중에 문제가 발생한 경우 다음과 같이 삭제합니다.</p>
<ul>
<li>위에서 서비스 라우팅을 위해 기존 Pod의 label을 변경했기 때문에, 변경된 Pod(app=reviews)외에 app=reviews_test의 Deployment도 아직 남아 있습니다. 둘다 삭제합니다. (실제로는 이렇게 하면 안되겠네요. 근데, Deployment 내에 정의된 Pod Template의 label은 변경이 안되네요&hellip;)</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl delete deployment reviews-v2
kubectl delete pod -l <span class="nv">app</span><span class="o">=</span>reviews,version<span class="o">=</span>v2
</code></pre></div></li>
<li>
<p>문제 해결후 재배포</p>
<p>최종 배포시에는 아래와 같이 배포후 v2의 갯수를 늘리고 v1은 삭제하게 될 것입니다. 실제 상황에서는 점진적으로 v2을 늘리고 v1을 줄이는 요구사항도 있을 것입니다.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash">kubectl apply -l <span class="nv">app</span><span class="o">=</span>reviews,version<span class="o">=</span>v2 -f https://raw.githubusercontent.com/istio/istio/release-1.12/samples/bookinfo/platform/kube/bookinfo.yaml
kubectl scale deployment reviews-v2 --replicas<span class="o">=</span><span class="m">3</span>
kubectl delete deployment reviews-v1
</code></pre></div></li>
</ol>
<h2 id="실제-배포시-대응-방법">실제 배포시 대응 방법</h2>
<p>실제 환경에서 마이크로 서비스 업데이트시의 안정적인 배포를 위해 새 버전 배포후 테스트, 점진적인 새 버전으로의 이관을 위한 여러가지 방안들이 나왔습니다. 그 대표적인 방법으로 가장 많이 사용하고 있는 것은 크게 Service Mesh와 Netflix&rsquo;s Hystrix를 기반한 방법입니다.</p>
<ul>
<li><strong>Service Mesh</strong>: Istio로 대표되는 서비스 메쉬를 사용하는 방법은 sidecar로 모듈을 Service Mesh 단에서 추가하는 방법입니다. Pod에 Application Container외에 Sidecar Container가 추가되고, Sidecar를 이용해 서비스 라우팅 및 추가 기능을 제공하는 방식입니다. 애플리케이션 코드에 별도 작업이 필요하지 않는 장점이 있습니다.</li>
<li><strong>애플리케이션 코드 구현</strong>: Netflix&rsquo;s Hystrix 예와 같이 서비스 라우팅, 보안, 모니터링 등에 필요한 기능을 라이브러리 모듈에서 제공하는 기능을 사용하는 방식입니다. 라이브러리를 사용하기 때문 코딩 자체량은 많지 않고, Annotation 등을 사용하게 됩니다. Spring 프레임워크에서는 Spring Cloud로 발전하여 기능을 제공하고 있습니다.</li>
</ul>
<br>
<br>
<em>** 이 글은 개인으로서, 개인의 시간을 할애하여 작성된 글입니다. 글의 내용에 오류가 있을 수 있으며, 글 속의 의견은 개인적인 의견입니다. **</em>

 <div class="edit-meta">Last updated on 20 Dec 2021<br></div><nav class="pagination"><a class="nav nav-prev" href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/" title="4.4 Service Mesh - Istio"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 4.4 Service Mesh - Istio</a>
<a class="nav nav-next" href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/2.sampleapp-with-istio/" title="4.4.2 마이크로서비스 앱에 Service Mesh - Istio 적용하기">Next - 4.4.2 마이크로서비스 앱에 Service Mesh - Istio 적용하기 <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://github.com/thingsym/hugo-theme-techdoc">TechDoc</a>. Design by <a href="https://www.thingslabo.com/">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">
<nav>
<ul>


<li>
  <form method="get" action="https://thekoguryo.github.io/oci-cloudnative/search">
    <input type="text" id="search-box" name="q" placeholder="Search"/>
  </form>
  
  <script type="text/javascript">
    $(document).ready(function() {
      $('#search-box').val($('#search-query').val());
    });
  </script>
</li>
<li><a> </a></li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oke/">
    1. OKE(Oracle Container Engine for Kubernetes)
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/1.oke/">1.1 OKE(Oracle Container Engine for Kubernetes) 소개</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/2.install-quick-oke-cluster/">1.2 OKE 클러스터 만들기</a></li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oke/3.access-cluster/">
    1.3 OKE 클러스터 연결하기
    <button type="button" class="toggleButton">
      <span class="right ">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down  hidden" >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class=" hidden">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/3.access-cluster/1.cloudshell-access/">1.3.1 Cloud Shell로 클러스터 연결하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/3.access-cluster/2.local-access/">1.3.2 로컬 환경에서 클러스터 연결하기</a></li>
</ul>
  
</li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/4.deploy-docker-hub-image-with-lb/">1.4 앱 배포 및 Load Balancer 사용하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/5.deploy-ocir-image/">1.5 OCIR 이미지 사용하기</a></li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oke/6.persistent-volume/">
    1.6 Persistent Volume 사용하기
    <button type="button" class="toggleButton">
      <span class="right ">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down  hidden" >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class=" hidden">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/6.persistent-volume/1.block-volume/">1.6.1 Block Volume 사용하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/6.persistent-volume/2.file-storage/">1.6.2 File Storage 사용하기</a></li>
</ul>
  
</li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/7.supported-version-and-upgrade/">1.7 Kubernetes 버전 업그레이드</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oke/8.monitor-application-log/">1.8 애플리케이션 로그 모니터링</a></li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/devops/">
    2. DevOps(관리형 CI/CD) 서비스 사용하기
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/devops/1.deploy-app-on-oke-using-devops/">2.1 DevOps 서비스를 통해 Spring Boot 앱 배포 자동화하기</a></li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/ocir/">
    3. OCIR(OCI Registry) 컨테이너 레지스트리
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/ocir/1.scan-image/">3.1 컨테이너 이미지 스캔</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/ocir/2.helm-chart/">3.2 Helm Chart Repostory로 사용하기</a></li>
</ul>
  
</li>



<li class="parent has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oss/">
    4. OSS(Open Source Software) 사용하기
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="sub-menu">



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oss/ingress-controller/">
    4.1 Ingress Controller
    <button type="button" class="toggleButton">
      <span class="right ">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down  hidden" >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class=" hidden">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/ingress-controller/1.install-nginx-ingress-controller/">4.1.1 NGINX Ingress Controller 사용하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/ingress-controller/2.nginx-ingress-host/">4.1.2 NGINX Ingress Controller에서 host 기반 라우팅(feat. OCI DNS)</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/ingress-controller/3.nginx-ingress-tls-termination/">4.1.3 NGINX Ingress Controller에서 TLS termination</a></li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oss/logging-efk/">
    4.2 Logging - EFK
    <button type="button" class="toggleButton">
      <span class="right ">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down  hidden" >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class=" hidden">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/logging-efk/1.install-efk/">4.2.1 EFK 설치하기</a></li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oss/monitoring/">
    4.3 Monitoring - Prometheus&amp;Grafana
    <button type="button" class="toggleButton">
      <span class="right ">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down  hidden" >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class=" hidden">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/monitoring/1.install-prometheus-grafana/">4.3.1 Prometheus&amp;Grafana 설치하기</a></li>
</ul>
  
</li>



<li class="parent has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/">
    4.4 Service Mesh - Istio
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="sub-menu">
<li class="active"><a href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/1.sampleapp-without-istio/">4.4.1 Service Mesh 없는 마이크로서비스 앱 배포</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oss/service-mesh/2.sampleapp-with-istio/">4.4.2 마이크로서비스 앱에 Service Mesh - Istio 적용하기</a></li>
</ul>
  
</li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/oracle-oss/">
    5. Oracle Open Source 사용하기
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/oracle-oss/1.oci-service-operator/">5.1 OCI Service Operator for Kubernetes(OSOK)</a></li>
</ul>
  
</li>



<li class=" has-sub-menu">
  <a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/">
    6. Verrazzano 사용하기
    <button type="button" class="toggleButton">
      <span class="right  hidden">
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-right">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="7 4 13 10 7 16"></polyline>
        </svg></span>
      <span class="down " >
        <svg width="16" height="16" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="chevron-down">
          <polyline fill="none" stroke="#000" stroke-width="1.03" points="16 7 10 13 4 7"></polyline>
        </svg>
      </span>
    </button>
  </a>
<ul class="">
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/1.install-verrazzano/">6.1 Verrazzano 설치</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/2.deploy-app/">6.2 Open Application Model 이해 및 애플리케이션 배포하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/3.multicluster-verrazzano/">6.3 Multicluster Verrazzano 설치하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/4.deploy-app-to-multicluster/">6.4 Multicluster에 애플리케이션 배포하기</a></li>
<li class=""><a href="https://thekoguryo.github.io/oci-cloudnative/verrazzano/5.weblogic-on-oke-using-verrazzano/">6.5 WebLogic Server를 Verrazzano를 통해 OKE에 배포하기</a></li>
</ul>
  
</li>
</ul>
</nav>


<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>

<script src="https://thekoguryo.github.io/oci-cloudnative/js/copy-code-button.js"></script></div>
</body>
</html>
